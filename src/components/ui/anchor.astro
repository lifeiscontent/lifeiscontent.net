---
import type { HTMLAttributes } from 'astro/types'

type AnchorVariant = 'primary' | 'secondary' | 'article'
type AnchorUnderline = 'always' | 'hover' | 'none'
type AnchorSize = 'inherit' | 'sm' | 'base'
type AnchorWeight = 'inherit' | 'medium' | 'semibold'

interface Props extends Omit<HTMLAttributes<'a'>, 'style' | 'class'> {
  variant?: AnchorVariant
  underline?: AnchorUnderline
  size?: AnchorSize
  weight?: AnchorWeight
}

const {
  variant = 'primary',
  underline = 'hover',
  size = 'inherit',
  weight = 'inherit',
  ...htmlProps
} = Astro.props

const variantStyles: Record<AnchorVariant, string> = {
  primary:
    'text-primary-600 hover:text-primary-500 dark:text-primary-300 dark:hover:text-primary-200',
  secondary:
    'text-primary-500/80 hover:text-primary-500 dark:text-primary-200/80 dark:hover:text-primary-200',
  article:
    'text-primary-600 hover:text-primary-500 dark:text-primary-400 dark:hover:text-primary-300',
}

const underlineStyles: Record<AnchorUnderline, string> = {
  always: 'underline',
  hover: 'hover:underline',
  none: '',
}

const sizeClasses: Record<AnchorSize, string> = {
  inherit: '',
  sm: 'text-sm',
  base: 'text-base',
}

const weightClasses: Record<AnchorWeight, string> = {
  inherit: '',
  medium: 'font-medium',
  semibold: 'font-semibold',
}

const classes = [
  'transition-colors',
  sizeClasses[size],
  weightClasses[weight],
  variantStyles[variant],
  underlineStyles[underline],
]
  .filter(Boolean)
  .join(' ')
---

<a class={classes} {...htmlProps}>
  <slot />
</a>
