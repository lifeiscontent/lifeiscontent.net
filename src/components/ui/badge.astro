---
import type { HTMLAttributes } from 'astro/types'

type BadgeVariant = 'default' | 'subtle'
type BadgeSize = 'xs' | 'sm'

interface Props extends Omit<HTMLAttributes<'span'>, 'style' | 'class'> {
  variant?: BadgeVariant
  size?: BadgeSize
}

const { variant = 'default', size = 'xs', ...htmlProps } = Astro.props

const variantStyles: Record<BadgeVariant, string> = {
  default:
    'bg-primary-50 text-primary-700 shadow-none dark:bg-primary-900/30 dark:text-primary-100',
  subtle: 'bg-transparent text-primary-600 dark:text-white',
}

const sizeStyles: Record<BadgeSize, string> = {
  xs: 'text-xs',
  sm: 'text-sm',
}

const baseStyles = 'inline-flex items-center rounded-full px-2.5 py-1 font-medium tracking-tight'

const classes = `${baseStyles} ${variantStyles[variant]} ${sizeStyles[size]}`
---

<span class={classes} {...htmlProps}>
  <slot />
</span>
