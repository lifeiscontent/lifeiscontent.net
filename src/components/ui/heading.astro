---
import clsx from 'clsx'
import type { HTMLAttributes } from 'astro/types'

type HeadingLevel = 1 | 2 | 3 | 4 | 5 | 6
type HeadingSize = 'md' | 'lg' | 'xl' | '2xl' | '3xl' | '4xl'
type HeadingWeight = 'semibold' | 'bold'
type HeadingTone = 'default' | 'accent' | 'inherit'

interface Props extends Omit<HTMLAttributes<'h1'>, 'class' | 'style'> {
  level?: HeadingLevel
  size?: HeadingSize
  sizeAtSm?: HeadingSize
  weight?: HeadingWeight
  tone?: HeadingTone
}

const {
  level = 2,
  size = 'lg',
  sizeAtSm,
  weight = 'semibold',
  tone = 'default',
  ...htmlProps
} = Astro.props

const Component = `h${level}` as keyof HTMLElementTagNameMap
const className = clsx(
  {
    'text-xl': size === 'md',
    'text-2xl': size === 'lg',
    'text-3xl': size === 'xl',
    'text-4xl': size === '2xl',
    'text-5xl': size === '3xl',
    'text-6xl': size === '4xl',
  },
  {
    'sm:text-xl': sizeAtSm === 'md',
    'sm:text-2xl': sizeAtSm === 'lg',
    'sm:text-3xl': sizeAtSm === 'xl',
    'sm:text-4xl': sizeAtSm === '2xl',
    'sm:text-5xl': sizeAtSm === '3xl',
    'sm:text-6xl': sizeAtSm === '4xl',
  },
  {
    'font-semibold': weight === 'semibold',
    'font-bold': weight === 'bold',
  },
  {
    'text-neutral-900 dark:text-neutral-100': tone === 'default',
    'text-neutral-600 dark:text-neutral-300': tone === 'accent',
  },
  'leading-tight text-balance'
)
---

<Component class={className} {...htmlProps}>
  <slot />
</Component>
