---
import type { HTMLAttributes } from 'astro/types'

type BadgeVariant = 'default' | 'subtle'
type BadgeSize = 'xs' | 'sm'

interface Props extends Omit<HTMLAttributes<'a'>, 'style' | 'class'> {
  variant?: BadgeVariant
  size?: BadgeSize
}

const { variant = 'default', size = 'xs', ...linkProps } = Astro.props

const variantStyles: Record<BadgeVariant, string> = {
  default:
    'bg-primary-50 text-primary-700 hover:bg-primary-100 aria-[current]:bg-primary-100 aria-[current]:text-primary-900 aria-selected:bg-primary-100 aria-selected:text-primary-900 dark:bg-primary-900/30 dark:text-primary-100 dark:hover:bg-primary-900/40',
  subtle:
    'bg-transparent text-primary-600 hover:bg-primary-50/70 active:bg-primary-100/40 aria-[current]:bg-primary-50/70 aria-[current]:text-primary-900 aria-selected:bg-primary-50/70 aria-selected:text-primary-900 dark:text-white dark:hover:bg-white/10 dark:active:bg-white/15 dark:aria-[current]:bg-white/10 dark:aria-selected:bg-white/10',
}

const sizeStyles: Record<BadgeSize, string> = {
  xs: 'text-xs',
  sm: 'text-sm',
}

const baseStyles =
  'inline-flex items-center gap-1.5 rounded-full px-2.5 py-1 font-medium tracking-tight transition-colors'

const classes = `${baseStyles} ${variantStyles[variant]} ${sizeStyles[size]}`
---

<a class={classes} {...linkProps}>
  <slot />
</a>
