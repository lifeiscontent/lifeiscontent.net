---
import clsx from 'clsx'
import type { HTMLAttributes } from 'astro/types'
type ButtonVariant = 'primary' | 'secondary'
type ButtonSize = 'md' | 'lg' | 'xl'
type ButtonWidth = 'auto' | 'full' | 'responsive'

interface Props extends Omit<HTMLAttributes<'a'>, 'style' | 'class'> {
  variant?: ButtonVariant
  size?: ButtonSize
  width?: ButtonWidth
}

const { variant = 'primary', size = 'md', width = 'auto', ...linkProps } = Astro.props

const classes = clsx(
  'relative isolate inline-flex transform items-center justify-center overflow-hidden rounded-full font-semibold ring-offset-white transition duration-150 focus-visible:ring-2 focus-visible:ring-black focus-visible:ring-offset-2 focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 dark:ring-offset-black dark:focus-visible:ring-white',
  {
    'bg-black text-white mix-blend-normal shadow-none hover:-translate-y-0.5 hover:bg-black/90 hover:shadow-lg active:translate-y-0 active:bg-black/80 active:shadow-md dark:bg-white dark:text-black dark:hover:bg-white/90 dark:active:bg-white/85':
      variant === 'primary',
    'bg-transparent text-neutral-900 shadow-none hover:bg-black/5 hover:text-black active:bg-black/10 active:text-black dark:bg-transparent dark:text-neutral-100 dark:hover:bg-white/10 dark:hover:text-white dark:active:bg-white/15':
      variant === 'secondary',
  },
  {
    'px-5 py-2.5 text-sm': size === 'md',
    'px-6 py-3 text-base': size === 'lg',
    'px-8 py-3.5 text-base': size === 'xl',
  },
  {
    'w-full': width === 'full',
    'w-full sm:w-auto': width === 'responsive',
  }
)
---

<a class={classes} {...linkProps}>
  <span class="relative z-10 inline-flex items-center mix-blend-normal">
    <slot />
  </span>
</a>
