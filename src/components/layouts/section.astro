---
import clsx from 'clsx'
import type { HTMLAttributes } from 'astro/types'

type SectionPaddingX = 'none' | 'sm' | 'md' | 'lg'
type SectionPaddingY = 'none' | 'sm' | 'md' | 'lg' | 'xl' | '2xl'
type SectionTone = 'transparent' | 'page' | 'muted'

interface Props extends Omit<HTMLAttributes<'section'>, 'class' | 'style'> {
  as?: keyof HTMLElementTagNameMap
  paddingX?: SectionPaddingX
  paddingY?: SectionPaddingY
  paddingYAtSm?: SectionPaddingY
  tone?: SectionTone
}

const {
  as: Component = 'section',
  paddingX = 'sm',
  paddingY = 'sm',
  paddingYAtSm,
  tone = 'transparent',
  ...htmlProps
} = Astro.props

const className = clsx(
  'w-full',
  {
    'px-4': paddingX === 'sm',
    'px-6': paddingX === 'md',
    'px-8': paddingX === 'lg',
  },
  {
    'py-8': paddingY === 'sm',
    'py-10': paddingY === 'md',
    'py-12': paddingY === 'lg',
    'py-14': paddingY === 'xl',
    'py-16': paddingY === '2xl',
  },
  {
    'sm:py-0': paddingYAtSm === 'none',
    'sm:py-8': paddingYAtSm === 'sm',
    'sm:py-10': paddingYAtSm === 'md',
    'sm:py-12': paddingYAtSm === 'lg',
    'sm:py-14': paddingYAtSm === 'xl',
    'sm:py-16': paddingYAtSm === '2xl',
  },
  {
    'bg-neutral-50 dark:bg-neutral-950': tone === 'page',
    'bg-neutral-100 dark:bg-neutral-900': tone === 'muted',
  }
)
---

<Component class={className} {...htmlProps}>
  <slot />
</Component>
