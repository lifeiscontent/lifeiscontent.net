<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 2.31.1"/><title data-react-helmet="true">Developing Web Apps in Fedora Silverblue | lifeiscontent.net</title><meta data-react-helmet="true" property="og:url" content="https://lifeiscontent.net"/><meta data-react-helmet="true" name="description" content="Online Presence of Aaron Reisman"/><meta data-react-helmet="true" name="image" content="https://lifeiscontent.net/static/social-4cf8811fea9e540af8f2fe5a9827ee13.jpg"/><meta data-react-helmet="true" property="og:title" content="Developing Web Apps in Fedora Silverblue"/><meta data-react-helmet="true" property="og:description" content="Online Presence of Aaron Reisman"/><meta data-react-helmet="true" property="og:image" content="https://lifeiscontent.net/static/social-4cf8811fea9e540af8f2fe5a9827ee13.jpg"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="@lifeiscontent"/><meta data-react-helmet="true" name="twitter:title" content="Developing Web Apps in Fedora Silverblue"/><meta data-react-helmet="true" name="twitter:description" content="Online Presence of Aaron Reisman"/><meta data-react-helmet="true" name="twitter:image" content="https://lifeiscontent.net/static/social-4cf8811fea9e540af8f2fe5a9827ee13.jpg"/><link rel="icon" href="/favicon-32x32.png?v=73dab037064bae20d63f28d170045f6d" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#290070"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=73dab037064bae20d63f28d170045f6d"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=73dab037064bae20d63f28d170045f6d"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=73dab037064bae20d63f28d170045f6d"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=73dab037064bae20d63f28d170045f6d"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=73dab037064bae20d63f28d170045f6d"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=73dab037064bae20d63f28d170045f6d"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=73dab037064bae20d63f28d170045f6d"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=73dab037064bae20d63f28d170045f6d"/><link as="script" rel="preload" href="/webpack-runtime-818834b0a615cc4a00ee.js"/><link as="script" rel="preload" href="/framework-61416065c0fba8268899.js"/><link as="script" rel="preload" href="/app-b299535fa8143cd727e1.js"/><link as="script" rel="preload" href="/92c71b40fabf116e9c1437d16baee1f61fa514e3-79f48b19802bba550f83.js"/><link as="script" rel="preload" href="/9b54ebb751b57f71c01f3dcbf0ef562e62242120-d43f12917d0c77ec8262.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-fd3cfb42b5ad3549090f.js"/><link as="fetch" rel="preload" href="/page-data/developing-web-apps-in-fedora-silverblue/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1612771227.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css-global ch0jtd">html,body,#___gatsby,#gatsby-focus-wrapper{min-height:100vh;}#gatsby-focus-wrapper{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}body{color:#595959;font-family:'Gotham',sans-serif;font-size:16px;line-height:1.5;margin:0;padding:0;}a{color:#290070;-webkit-text-decoration:none;text-decoration:none;}</style><style data-emotion="css qa023h-Nav">.css-qa023h-Nav{max-width:100%;padding:6px;}.css-qa023h-Nav a{padding:6px;-webkit-text-decoration:underline;text-decoration:underline;font-size:1.2em;}</style><nav class="css-qa023h-Nav e1agbn9o0"><a href="/">Home</a><a href="/blog">Blog</a></nav><style data-emotion="css p947dp-Page">.css-p947dp-Page{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}</style><main class="css-p947dp-Page et17rnh0"><style data-emotion="css zkrks3-Container">.css-zkrks3-Container{box-sizing:border-box;max-width:768px;padding-left:36px;padding-right:36px;margin:0 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="css-zkrks3-Container e1elycxl0"><style data-emotion="css evd08f-Article">.css-evd08f-Article{max-width:100%;}</style><article class="css-evd08f-Article e1dnitxz0"><style data-emotion="css 16fkmgg-H2-Typography">h1.css-16fkmgg-H2-Typography{font-size:30px;}h2.css-16fkmgg-H2-Typography{font-size:24px;}h3.css-16fkmgg-H2-Typography{font-size:18px;}h1.css-16fkmgg-H2-Typography,h2.css-16fkmgg-H2-Typography,h3.css-16fkmgg-H2-Typography{color:#222;text-transform:uppercase;}p.css-16fkmgg-H2-Typography{font-size:16px;}</style><h2 class="css-16fkmgg-H2-Typography e1cwec4d2">Developing Web Apps in Fedora Silverblue</h2><style data-emotion="css 1j1du3f-P-Typography">h1.css-1j1du3f-P-Typography{font-size:30px;}h2.css-1j1du3f-P-Typography{font-size:24px;}h3.css-1j1du3f-P-Typography{font-size:18px;}h1.css-1j1du3f-P-Typography,h2.css-1j1du3f-P-Typography,h3.css-1j1du3f-P-Typography{color:#222;text-transform:uppercase;}p.css-1j1du3f-P-Typography{font-size:16px;}</style><p class="css-1j1du3f-P-Typography e1cwec4d4">Last updated on<!-- --> <time dateTime="2021-01-28T00:00:00.000Z">1/27/2021</time></p><style data-emotion="css 1duon50-Tags">.css-1duon50-Tags{display:block;list-style:none;margin-left:0;margin-right:0;padding:0;}.css-1duon50-Tags li{color:#ffffff;font-size:0.85em;display:inline-block;margin:3px;padding:4px 8px;background-color:#290070;}.css-1duon50-Tags li:first-child{margin-left:0;}.css-1duon50-Tags li:last-child{margin-right:0;}</style><ul class="css-1duon50-Tags enym3uf0"><li>Linux</li><li>Fedora Silverblue</li><li>Node.js</li></ul><style data-emotion="css gmm889-Markdown">.css-gmm889-Markdown{max-width:100%;}.css-gmm889-Markdown a{-webkit-text-decoration:underline;text-decoration:underline;}.css-gmm889-Markdown p{line-height:1.5em;}.css-gmm889-Markdown p>code{background-color:#f2f2f2;color:#130033;padding:3px 6px;box-sizing:border-box;}.css-gmm889-Markdown pre{overflow:auto;background-color:#130033;color:#dfccff;padding:12px;box-sizing:border-box;max-width:100%;}</style><div class="css-gmm889-Markdown e1bqmjci0"><h3>Setting up Node.js</h3>
<p>First we'll create a toolbox called <code>node</code>.</p>
<p>Toolboxes are a feature in fedora silverblue to run software in isolation, you can setup an entire dev environment in a toolbox and not have any of the software be a part of your main OS.</p>
<pre><code class="language-sh">toolbox create -c node
</code></pre>
<p>Next, we'll install a Node Version Mananger.</p>
<p>I like <a href="https://github.com/tj/n">n</a> because it keeps things simple, no subshells, profile setup, or convoluted APIs.</p>
<pre><code class="language-sh">curl -L https://raw.githubusercontent.com/tj/n/master/bin/n -o n
bash n lts
rm n
</code></pre>
<p>We've just installed the LTS version of Node.js using n, but before we're finished, we'll need to add <code>node</code> to our path.</p>
<p>open up your <code>.bashrc</code> and add this line.</p>
<pre><code class="language-sh"># if $HOME/.n/bin is not in our path, set it
if ! [[ "$PATH" =~ "$HOME/.n/bin" ]]; then
    PATH="$PATH:$HOME/.n/bin"
fi
</code></pre>
<p>if you type <code>node -v</code> now you should see a version number print out.</p>
<p>we'll install <code>n</code> as a npm package now, so we can update it periodically from npm.</p>
<pre><code class="language-sh">npm install -g n
</code></pre>
<p>For Node.js to do file watching we need to bump up <code>fs.inotify.max_user_watches</code>. Without it, we might see errors like</p>
<pre><code>Error: ENOSPC: System limit for number of file watchers reached
</code></pre>
<pre><code class="language-sh">sudo sysctl fs.inotify.max_user_watches=524288
sudo sysctl -p --system
</code></pre>
<h3>VSCode Related settings</h3>
<p>To fix the terminal in VSCode I had to set these settings.</p>
<p>First, in my <code>.bashrc</code>:</p>
<pre><code class="language-sh"># if we're inside of VSCode flatpak, fix the terminal
if [ "$FLATPAK_ID" == "com.visualstudio.code" ]; then
    export PS1="[\u@\h \W]\\$ "
fi

# a helper function to launch VSCode from a toolbox or main OS.
code() {
  if [[ ! -f /run/.toolboxenv ]]; then
    flatpak run com.visualstudio.code $@
  elif [[ -f /run/.toolboxenv ]]; then
    flatpak-spawn --host flatpak run com.visualstudio.code $@
  else
    echo "unknown environment"
  fi
}
</code></pre>
<p>in VSCode, we have to set these settings to get the terminal to work through our toolbox.</p>
<pre><code class="language-json">{
  "terminal.integrated.shell.linux": "flatpak-spawn",
  "terminal.integrated.shellArgs.linux": ["--host", "toolbox", "enter", "node"]
}
</code></pre></div></article></div></main></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/developing-web-apps-in-fedora-silverblue/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-2966d4d8fea208fd6f8f.js"],"app":["/app-b299535fa8143cd727e1.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-b0556ce5127c1a3e2490.js"],"component---src-pages-404-js":["/component---src-pages-404-js-7f1b04b60b82c60daaff.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-89cb6c3893566e912b06.js"],"component---src-pages-index-js":["/component---src-pages-index-js-0b2cbae3d65e773a386a.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-fd3cfb42b5ad3549090f.js"]};/*]]>*/</script><script src="/polyfill-2966d4d8fea208fd6f8f.js" nomodule=""></script><script src="/component---src-templates-blog-post-js-fd3cfb42b5ad3549090f.js" async=""></script><script src="/9b54ebb751b57f71c01f3dcbf0ef562e62242120-d43f12917d0c77ec8262.js" async=""></script><script src="/92c71b40fabf116e9c1437d16baee1f61fa514e3-79f48b19802bba550f83.js" async=""></script><script src="/app-b299535fa8143cd727e1.js" async=""></script><script src="/framework-61416065c0fba8268899.js" async=""></script><script src="/webpack-runtime-818834b0a615cc4a00ee.js" async=""></script></body></html>