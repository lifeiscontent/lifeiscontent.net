<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 2.32.13"/><title data-react-helmet="true">Developing Web Apps in Fedora Silverblue | lifeiscontent.net</title><meta data-react-helmet="true" property="og:url" content="https://lifeiscontent.net"/><meta data-react-helmet="true" name="description" content="Online Presence of Aaron Reisman"/><meta data-react-helmet="true" name="image" content="https://lifeiscontent.net/static/social-4cf8811fea9e540af8f2fe5a9827ee13.jpg"/><meta data-react-helmet="true" property="og:title" content="Developing Web Apps in Fedora Silverblue"/><meta data-react-helmet="true" property="og:description" content="Online Presence of Aaron Reisman"/><meta data-react-helmet="true" property="og:image" content="https://lifeiscontent.net/static/social-4cf8811fea9e540af8f2fe5a9827ee13.jpg"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="@lifeiscontent"/><meta data-react-helmet="true" name="twitter:title" content="Developing Web Apps in Fedora Silverblue"/><meta data-react-helmet="true" name="twitter:description" content="Online Presence of Aaron Reisman"/><meta data-react-helmet="true" name="twitter:image" content="https://lifeiscontent.net/static/social-4cf8811fea9e540af8f2fe5a9827ee13.jpg"/><link rel="icon" href="/favicon-32x32.png?v=73dab037064bae20d63f28d170045f6d" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#290070"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=73dab037064bae20d63f28d170045f6d"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=73dab037064bae20d63f28d170045f6d"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=73dab037064bae20d63f28d170045f6d"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=73dab037064bae20d63f28d170045f6d"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=73dab037064bae20d63f28d170045f6d"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=73dab037064bae20d63f28d170045f6d"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=73dab037064bae20d63f28d170045f6d"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=73dab037064bae20d63f28d170045f6d"/><link as="script" rel="preload" href="/webpack-runtime-6aa74ee5875b053a16ed.js"/><link as="script" rel="preload" href="/framework-fd81c2a3ecc620ec49ad.js"/><link as="script" rel="preload" href="/app-6b7b080f0efebf884845.js"/><link as="script" rel="preload" href="/92c71b40fabf116e9c1437d16baee1f61fa514e3-881cf2b80899905b0b1b.js"/><link as="script" rel="preload" href="/9b54ebb751b57f71c01f3dcbf0ef562e62242120-f083af9196b65e60b292.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-63d29d07f30b815cda08.js"/><link as="fetch" rel="preload" href="/page-data/developing-web-apps-in-fedora-silverblue/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1612771227.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css-global ch0jtd">html,body,#___gatsby,#gatsby-focus-wrapper{min-height:100vh;}#gatsby-focus-wrapper{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}body{color:#595959;font-family:'Gotham',sans-serif;font-size:16px;line-height:1.5;margin:0;padding:0;}a{color:#290070;-webkit-text-decoration:none;text-decoration:none;}</style><style data-emotion="css s0me2">.css-s0me2{max-width:100%;padding:6px;}.css-s0me2 a{padding:6px;-webkit-text-decoration:underline;text-decoration:underline;font-size:1.2em;}</style><nav class="css-s0me2 e1agbn9o0"><a href="/">Home</a><a href="/blog">Blog</a></nav><style data-emotion="css 1ff36h2">.css-1ff36h2{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}</style><main class="css-1ff36h2 et17rnh0"><style data-emotion="css 197iced">.css-197iced{box-sizing:border-box;max-width:768px;padding-left:36px;padding-right:36px;margin:0 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="css-197iced e1elycxl0"><style data-emotion="css qhxz92">.css-qhxz92{max-width:100%;}</style><article style="margin-bottom:20px" class="css-qhxz92 e1dnitxz0"><style data-emotion="css 10tu06l">h1.css-10tu06l{font-size:30px;}h2.css-10tu06l{font-size:24px;}h3.css-10tu06l{font-size:18px;}h1.css-10tu06l,h2.css-10tu06l,h3.css-10tu06l{color:#222;text-transform:uppercase;}p.css-10tu06l{font-size:16px;}</style><h2 class="css-10tu06l e1cwec4d2">Developing Web Apps in Fedora Silverblue</h2><p class="css-10tu06l e1cwec4d4">Last updated on<!-- --> <time dateTime="2021-01-28T00:00:00.000Z">1/27/2021</time></p><style data-emotion="css j8mk6n">.css-j8mk6n{display:block;list-style:none;margin-left:0;margin-right:0;padding:0;}.css-j8mk6n li{color:#ffffff;font-size:0.85em;display:inline-block;margin:3px;padding:4px 8px;background-color:#290070;}.css-j8mk6n li:first-child{margin-left:0;}.css-j8mk6n li:last-child{margin-right:0;}</style><ul class="css-j8mk6n enym3uf0"><li>Linux</li><li>Fedora Silverblue</li><li>Node.js</li></ul><style data-emotion="css 1ds85d">.css-1ds85d{max-width:100%;}.css-1ds85d a{-webkit-text-decoration:underline;text-decoration:underline;}.css-1ds85d p{line-height:1.5em;}.css-1ds85d p>code{background-color:rgba(0, 0, 0, 0.05);box-sizing:border-box;color:#130033;padding:3px 6px;overflow-wrap:break-word;}.css-1ds85d pre{overflow:auto;background-color:#130033;color:#dfccff;padding:12px;box-sizing:border-box;max-width:100%;}.css-1ds85d blockquote{padding:3px 12px;margin-left:0;margin-right:0;border-left:6px solid #290070;background-color:rgba(0, 0, 0, 0.05);color:#130033;}.css-1ds85d blockquote >p{margin-top:3px;margin-bottom:3px;}</style><div class="css-1ds85d e1bqmjci0"><h3>Setting up Node.js</h3>
<p>First we'll create a toolbox called <code>node</code>.</p>
<p>Toolboxes are a feature in fedora silverblue to run software in isolation, you can setup an entire dev environment in a toolbox and not have any of the software be a part of your main OS.</p>
<pre><code class="language-sh">toolbox create -c node
</code></pre>
<p>Next, we'll install a Node Version Mananger.</p>
<p>I like <a href="https://github.com/tj/n">n</a> because it keeps things simple, no subshells, profile setup, or convoluted APIs.</p>
<pre><code class="language-sh">curl -L https://raw.githubusercontent.com/tj/n/master/bin/n -o n
bash n lts
rm n
</code></pre>
<p>We've just installed the LTS version of Node.js using n, but before we're finished, we'll need to add <code>node</code> to our path and have n install newer node versions locally.</p>
<p>open up your <code>.bashrc</code> and add this line.</p>
<pre><code class="language-sh"># if $HOME/.n/bin is not in our path, set it
if ! [[ "$PATH" =~ "$HOME/.n/bin" ]]; then
    PATH="$PATH:$HOME/.n/bin"
fi

# if N_PREFIX is not defined, set it
if [[ ! -v N_PREFIX ]]; then
  N_PREFIX="$HOME/.n"

  export N_PREFIX
fi
</code></pre>
<p>if you type <code>node -v</code> now you should see a version number print out.</p>
<p>we'll install <code>n</code> as a npm package now, so we can update it periodically from npm.</p>
<pre><code class="language-sh">npm install -g n
</code></pre>
<p>For Node.js to do file watching we need to bump up <code>fs.inotify.max_user_watches</code>. Without it, we might see errors like</p>
<pre><code>Error: ENOSPC: System limit for number of file watchers reached
</code></pre>
<pre><code class="language-sh">sudo sysctl fs.inotify.max_user_watches=524288
sudo sysctl -p --system
</code></pre>
<h3>VSCode Related setup</h3>
<p>first, create <code>~/.local/bin/vscode-podman</code> and paste the contents below.</p>
<pre><code class="language-sh">#!/usr/bin/env sh
exec flatpak-spawn --host podman "$@"
</code></pre>
<p>Next, Go to VSCode settings, to the Remote-Containers section, and update the remote.containers.dockerPath with the absolute path to our script.</p>
<blockquote>
<p><strong>IMPORTANT</strong> It must be the absolute path, e.g. <code>/var/home/&#x3C;user>/.local/bin/vscode-podman</code></p>
</blockquote>
<p>The next steps will setup VSCode Container settings.</p>
<p>You can either run the script below to setup a toolbox called "node" if your container is named something else, go ahead and put it where "node" is in this command.</p>
<pre><code class="language-sh">wget -O - -o /dev/null "https://gist.githubusercontent.com/lifeiscontent/6a3d156b070cfdc505616fb49090b089/raw/9aecd3475996de0a603430441074a7c5d2af6b8e/vscode-toolbox-setup.sh" | bash -s node
</code></pre>
<p>if you're uncomfortable with running scripts from the internet, that's fine, and I'll now explain everything that happens here.</p>
<pre><code class="language-bash">#!/usr/bin/env bash

# we check to see that "node" was sent in to the script
# otherwise we print a helpful message to tell you how to use it
if [ -n "$1" ]; then
  # we create a toolbox, if its already created this is a no-op

  toolbox create "$1" >/dev/null 2>&#x26;1
  # we then add a JSON file to let the flatpak version of VSCode
  # know about the toolbox we've created.
  wget -O - -o /dev/null "https://gist.githubusercontent.com/lifeiscontent/f977025b47763ff74393350ea97039ea/raw/b1b68577aea85846c021957de33e19606612dd1a/nameConfig.json >> ~/.var/app/com.visualstudio.code/config/Code/User/globalStorage/ms-vscode-remote.remote-containers/nameConfigs/$1.json"

  # in order to allow VSCode to install runtime dependencies we need to
  # change permissions to the toolbox folders
  toolbox run -c "$1" sudo chmod 755 /root &#x26;&#x26; sudo mkdir -p -m0777 /root/.vscode-server >/dev/null 2>&#x26;1

  # we're done!
  echo "All done, now run Remote-Containers: Attach to Running Container... from VSCode"
else
  echo "Usage: $0 [TOOLBOX_NAME]"
fi
</code></pre></div><p class="css-10tu06l e1cwec4d4">Hope you enjoyed the read, if you have any questions, feel free to reach out to me on twitter<!-- --> <a href="https://twitter.com/lifeiscontent" target="_blank" rel="noreferrer">@lifeiscontent</a></p></article></div></main></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/developing-web-apps-in-fedora-silverblue/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-ee1e201f602068867daf.js"],"app":["/app-6b7b080f0efebf884845.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-46b4173e1060a5c82475.js"],"component---src-pages-404-js":["/component---src-pages-404-js-25fa68b8fea38c46aeb2.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-6d0f7307ded6e5544d6c.js"],"component---src-pages-index-js":["/component---src-pages-index-js-c27f244ec9c7ed39106b.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-63d29d07f30b815cda08.js"]};/*]]>*/</script><script src="/polyfill-ee1e201f602068867daf.js" nomodule=""></script><script src="/component---src-templates-blog-post-js-63d29d07f30b815cda08.js" async=""></script><script src="/9b54ebb751b57f71c01f3dcbf0ef562e62242120-f083af9196b65e60b292.js" async=""></script><script src="/92c71b40fabf116e9c1437d16baee1f61fa514e3-881cf2b80899905b0b1b.js" async=""></script><script src="/app-6b7b080f0efebf884845.js" async=""></script><script src="/framework-fd81c2a3ecc620ec49ad.js" async=""></script><script src="/webpack-runtime-6aa74ee5875b053a16ed.js" async=""></script></body></html>